@model IEnumerable<AutoShop.Models.Producto>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutCompras.cshtml";
}


@{
    string mensaje = "Bienvenido al Home de Productos ";
    string name = @Session["usr"].ToString();
}

<h2><b> @mensaje  @name </b></h2>
<hr class="bg-danger mb-4" />

<div class="text-white sticky-title p-2 mt-3" style="background-color: #e33b5c">
    <h1>Productos</h1>
</div>


<div class="card" style="margin-top: 15px; background-color: rgb(255, 239, 239); border-color: #e33b5c">
    <div class="card-body">
        <p style="font-size: 24px">
            A continuación, se muestran todos los productos, con la posibilidad de crear o en su defecto
            actualizar o eliminar los ya existentes.
        </p>
    </div>
</div>

<div class="row" style="margin-top: 35px ; margin-left: 1%; margin-right: 1%; align-content: center">
    <div class="col-md-3">
        <div id="producto">

        </div>

    </div>
    <div class="col-md-4">
        <div class="card">
            <div class="card-header bg-danger text-white text-center">
                <h5 class="card-title"><b> Agregados recientemente </b></h5>
            </div>
            <div class="card-body">
                <div id="tablaProductos" class="pl-3 pr-3">

                </div>
            </div>
        </div>
    </div>
    <div class="col-md-5">
        <div class="card">
            <div class="card-header bg-danger text-white text-center">
                <h5 class="card-title"><b> Pocas existencias</b></h5>
            </div>

            <div class="card-body">
                <div id="tablaExistencias" class="pl-3 pr-3">

                </div>
            </div>
        </div>
    </div>
</div>

<div class="card" style="margin-top: 15px; background-color: rgb(255, 239, 239); border-color: #e33b5c">
    <div class="card-body" style="padding: 3%">
        <h2><u><b>Todos los Productos</b></u></h2>
        <br>
        <div style="margin-bottom: 25px; font-size: 16px">
            <a href="@Url.Action("Create", "producto")" class="btn btn-danger"><i class="fa fa-plus-square"></i> Crear Producto</a>

        </div>
        <table class="table table-striped table-bordered">

            <tr class="bg-danger text-white">
                <th scope="col">ID</th>
                <th scope="col">Nombre</th>
                <th scope="col">Categoría</th>
                <th scope="col">Descripción</th>
                <th scope="col">Precio</th>
                <th scope="col">Cantidad</th>
                <th>Editar</th>
                <th>Eliminar</th>
            </tr>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.id)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.nombre)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Categoria.nombre)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.descripcion)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.precio)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.cantidad)
                    </td>
                    <td align="center"><a href="@Url.Action("Edit", "producto", new { id = item.id })" class="btn btn-danger"><i class="fa fa-pencil-square"></i></a></td>
                    <td align="center"><a href="@Url.Action("Delete", "producto", new { id = item.id })" class="btn btn-danger"><i class="fa fa-trash"></i></a></td>
                </tr>
            }
        </table>
    </div>
</div>
<script src="~/Scripts/Generados/Productos/Productos.js"></script>